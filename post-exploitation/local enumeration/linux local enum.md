### hostname && internal domains
`hostname`
`cat /etc/hostname`
`cat /etc/hosts`: puede mostrar otros dominios o hosts internos
### ver version kernel
`uname -r`: solo muestra la versión del kernel
`uname -a`: muestra version kernel, arquitectura y otra información.
### ver release

`cat /etc/*release`

`lsb_release -a`

`cat /etc/os-release`


`cat /etc/issue`

### ver permisos sudo
`sudo -l`
### ver id, grupos, usuarios
`id`
`groups <username>`
`cat /etc/passwd`: ver los usuarios del sistema

`usermod -aG <grupo al que que añadir> <username>`: Para añadir un usuario a un grupo concreto.
## ver suid binaries
`find / -user root -perm -4000 -exec ls -ldb {} \; 2>/dev/null`
### ver capabilities de binarios

```
find /usr/bin /usr/sbin /usr/local/bin /usr/local/sbin -type f -exec getcap {} \;
```
### ver servicios activos && networks enum
`ss -tuln`

`netstat -tulnp`

`netstat`: meterpreter command para ver servicios activos

`ifconfig`: para meterpreter y para shell normal. 
`ip a s`: como ifconfig cuando ifconfig no funciona

`route`: muestra tabla de enrutamiento

`cat /etc/networks`: muestra listado de interfaces y configuración

## ver GLIBC version
`ldd --version`
### Cache ARP
`arp -a`
`arp`: (meterpreter) command

### ver procesos y cron jobs

#### processes
##### meterpreter commands
`ps`
`kill <pid>`
`pgrep <process_name>` :filtra por nombre de proceso
##### manual
`ps`: te muestra los procesos por PID, tty(terminal) y el comando
`ps aux`: información más completa, muestra el usuario que ejecutó el comando por ejemplo, la ruta completa al binario que se ejecuta o script...etc.

`ps aux | grep root`: muestra solo procesos ejecutados por usuario root

`top`: muestra lista de procesos y de forma dinámica conforme se van ejecutando.

#### Cron jobs

`crontab -l`: muestra tareas cron asociadas al usuario al que tenemos acceso
`ls -la /etc/cron*`: muestra todos los cron files.
`cat /etc/cron*`: muestra el contenido de los ficheros cron que hay. podemos hacernos una idea si hay cron jobs o no.

### ver variables de entorno del usuario actual
`env`

### ver últimos logged on users
`w`
`who`
`last`: Este comando mostrará el ultimo inicio de sesion de usuarios legitimamente logeados por SSH por ejemplo. Por eso aunque tengamos una sessión con un usuario al ejecutar un exploit, este comando puede no devolver nada ya que la sessión que hemos obtenido no es por un medio legítimo.

`lastlog`
### listar dispositivos conectados al sistema (Disks, USBs...)
`df -h`
### ver información CPU
`lscpu`

### ver cuanta RAM está siendo utilizada
`free -h`
### listar paquetes instalados
`dpkg -l`

### ver servidores DNS y dominios internos

`cat /etc/resolv.conf`: muestra el servidor DNS primario que se usa por defecto
`cat /etc/hosts`

# Automate Local Enumeration

- LinEnum: https://github.com/rebootuser/LinEnum

## Metasploit modules

- `post/linux/gather/enum_configs`
- `post/linux/gather/enum_network`
- `post/linux/gather/enum_system` : recopila informacion del sistema
- `post/linux/gather/checkvm`: ver si el target es una virtual machine